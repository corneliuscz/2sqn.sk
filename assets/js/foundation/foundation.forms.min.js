!function(t,e,i,s){"use strict";Foundation.libs.forms={name:"forms",version:"4.0.4",settings:{disable_class:"no-custom"},init:function(e,i,s){return this.scope=e||this.scope,"object"==typeof i&&t.extend(!0,this.settings,i),"string"!=typeof i?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[i].call(this,s)},assemble:function(){t('form.custom input[type="radio"]',t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),t('form.custom input[type="checkbox"]',t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_markup),t("form.custom select",t(this.scope)).not('[data-customforms="disabled"]').each(this.append_custom_select)},events:function(){var e=this;t(this.scope).on("change.fndtn.forms",'form.custom select:not([data-customforms="disabled"])',function(){e.refresh_custom_select(t(this))}).on("click.fndtn.forms","form.custom label",function(i){var s,n,o=t("#"+e.escape(t(this).attr("for"))+':not([data-customforms="disabled"])');0!==o.length&&("checkbox"===o.attr("type")?(i.preventDefault(),s=t(this).find("span.custom.checkbox"),0==s.length&&(s=t(this).siblings("span.custom.checkbox").first()),e.toggle_checkbox(s)):"radio"===o.attr("type")&&(i.preventDefault(),n=t(this).find("span.custom.radio"),0==n.length&&(n=t(this).siblings("span.custom.radio").first()),e.toggle_radio(n)))}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(i){var s=t(this),n=s.closest("div.custom.dropdown"),o=n.prev();return n.hasClass("open")||t(e.scope).trigger("click"),i.preventDefault(),!1===o.is(":disabled")?(n.toggleClass("open"),n.hasClass("open")?t(e.scope).on("click.fndtn.forms.customdropdown",function(){n.removeClass("open"),t(e.scope).off(".fndtn.forms.customdropdown")}):t(e.scope).on(".fndtn.forms.customdropdown"),!1):void 0}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(e){var i=t(this),s=i.closest("div.custom.dropdown"),n=s.prev(),o=0;if(e.preventDefault(),e.stopPropagation(),!t(this).hasClass("disabled")){t("div.dropdown").not(s).removeClass("open");var a=i.closest("ul").find("li.selected");a.removeClass("selected"),i.addClass("selected"),s.removeClass("open").find("a.current").html(i.html()),i.closest("ul").find("li").each(function(t){i[0]==this&&(o=t)}),n[0].selectedIndex=o,n.data("prevalue",a.html()),n.trigger("change")}}),this.settings.init=!0},append_custom_markup:function(e,i){var s=t(i).hide(),n=s.attr("type"),o=s.next("span.custom."+n);0===o.length&&(o=t('<span class="custom '+n+'"></span>').insertAfter(s)),o.toggleClass("checked",s.is(":checked")),o.toggleClass("disabled",s.is(":disabled"))},append_custom_select:function(e,i){var s,n=Foundation.libs.forms,o=t(i),a=o.next("div.custom.dropdown"),r=a.find("ul"),l=(a.find(".current"),a.find(".selector")),c=o.find("option"),d=c.filter(":selected"),h=o.attr("class")?o.attr("class").split(" "):[],p=0,f="",u=!1;if(!o.hasClass(n.settings.disable_class)){if(0===a.length){var g=o.hasClass("small")?"small":o.hasClass("medium")?"medium":o.hasClass("large")?"large":o.hasClass("expand")?"expand":"";a=t('<div class="'+["custom","dropdown",g].concat(h).filter(function(t,e,i){return""==t?!1:i.indexOf(t)==e}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),l=a.find(".selector"),r=a.find("ul"),f=c.map(function(){return"<li>"+t(this).html()+"</li>"}).get().join(""),r.append(f),u=a.prepend('<a href="#" class="current">'+d.html()+"</a>").find(".current"),o.after(a).hide()}else f=c.map(function(){return"<li>"+t(this).html()+"</li>"}).get().join(""),r.html("").append(f);if(a.toggleClass("disabled",o.is(":disabled")),s=r.find("li"),c.each(function(e){this.selected&&(s.eq(e).addClass("selected"),u&&u.html(t(this).html())),t(this).is(":disabled")&&s.eq(e).addClass("disabled")}),!a.is(".small, .medium, .large, .expand")){a.addClass("open");var n=Foundation.libs.forms;n.hidden_fix.adjust(r),p=n.outerWidth(s)>p?n.outerWidth(s):p,Foundation.libs.forms.hidden_fix.reset(),a.removeClass("open")}}},refresh_custom_select:function(e){var i=this,s=0,n=e.next(),o=e.find("option");n.find("ul").html(""),o.each(function(){var e=t("<li>"+t(this).html()+"</li>");n.find("ul").append(e)}),o.each(function(e){this.selected&&(n.find("li").eq(e).addClass("selected"),n.find(".current").html(t(this).html())),t(this).is(":disabled")&&n.find("li").eq(e).addClass("disabled")}),n.removeAttr("style").find("ul").removeAttr("style"),n.find("li").each(function(){n.addClass("open"),i.outerWidth(t(this))>s&&(s=i.outerWidth(t(this))),n.removeClass("open")})},toggle_checkbox:function(t){var e=t.prev(),i=e[0];!1===e.is(":disabled")&&(i.checked=i.checked?!1:!0,t.toggleClass("checked"),e.trigger("change"))},toggle_radio:function(t){var e=t.prev(),i=e.closest("form.custom"),s=e[0];!1===e.is(":disabled")&&(i.find('input[type="radio"][name="'+this.escape(e.attr("name"))+'"]').next().not(t).removeClass("checked"),t.hasClass("checked")||t.toggleClass("checked"),s.checked=t.hasClass("checked"),e.trigger("change"))},escape:function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},hidden_fix:{tmp:[],hidden:null,adjust:function(e){var i=this;i.hidden=e.parents().andSelf().filter(":hidden"),i.hidden.each(function(){var e=t(this);i.tmp.push(e.attr("style")),e.css({visibility:"hidden",display:"block"})})},reset:function(){var e=this;e.hidden.each(function(i){var n=t(this),o=e.tmp[i];o===s?n.removeAttr("style"):n.attr("style",o)}),e.tmp=[],e.hidden=null}},off:function(){t(this.scope).off(".fndtn.forms")}}}(Foundation.zj,this,this.document);